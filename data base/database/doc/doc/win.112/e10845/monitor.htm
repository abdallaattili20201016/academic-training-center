<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Language" content="en" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta name="robots" content="all" scheme="http://www.robotstxt.org/" />
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1" />
<meta name="Date" content="2010-03-05T15:45:35Z" />
<meta name="doctitle" content="Oracle&reg; Database Platform Guide 11g Release 2 (11.2) for Microsoft Windows" />
<meta name="partno" content="E10845-01" />
<meta name="docid" content="NTQRF" />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />
<link rel="Stylesheet" href="../../dcommon/css/blafdoc.css" title="Default" type="text/css" />
<script type="text/javascript" src="../../dcommon/js/doccd.js">
</script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="admin.htm" title="Previous" type="text/html" />
<link rel="Next" href="tuning.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10845.pdf" title="PDF version" type="application/pdf" />
<title>Monitoring a Database on Windows</title>
</head>
<body>
<div class="header">
<div class="zz-skip-header"><a name="top" id="top" href="#BEGIN">Skip Headers</a></div>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><b>Oracle&reg; Database Platform Guide<br />
11<i>g</i> Release 2 (11.2) for Microsoft Windows</b><br />
Part Number E10845-01</td>
<td valign="bottom" align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="admin.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="tuning.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td align="right" valign="top" style="font-size: 90%"><a href="../e10845.pdf">View PDF</a></td>
</tr>
</table>
<a name="BEGIN" id="BEGIN"></a></div>
<div class="IND"><!-- End Header --><a id="g1012722" name="g1012722"></a><a id="NTQRF080" name="NTQRF080"></a><a id="i1008607" name="i1008607"></a>
<h1 class="chapter"><span class="secnum">6</span> Monitoring a Database on Windows</h1>
<p>This chapter describes how to monitor Oracle Database for Windows.</p>
<p>This chapter contains these topics:</p>
<ul>
<li>
<p><a href="#i1005642">Database Monitoring Overview</a></p>
</li>
<li>
<p><a href="#i1005706">Using Oracle Counters for Windows Performance Monitor</a></p>
</li>
<li>
<p><a href="#i1006063">Using Event Viewer</a></p>
</li>
<li>
<p><a href="#i1008147">Trace Files</a></p>
</li>
<li>
<p><a href="#i1008149">Alert Logs</a></p>
</li>
<li>
<p><a href="#CHDIFIDG">Viewing Threads</a></p>
</li>
</ul>
<a id="i1005642" name="i1005642"></a><a id="NTQRF232" name="NTQRF232"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref270" name="sthref270"></a><a id="sthref271" name="sthref271"></a><a id="sthref272" name="sthref272"></a><a id="sthref273" name="sthref273"></a><a id="sthref274" name="sthref274"></a>Database <a id="sthref275" name="sthref275"></a><a id="sthref276" name="sthref276"></a><a id="sthref277" name="sthref277"></a><a id="sthref278" name="sthref278"></a><a id="sthref279" name="sthref279"></a><a id="sthref280" name="sthref280"></a><a id="sthref281" name="sthref281"></a>Monitoring Overview</h2>
<p><a href="#CHDFAIBA">Table 6-1</a> describes tools that enable you to monitor Oracle Database.</p>
<div class="tblhruleformal"><a id="NTQRF233" name="NTQRF233"></a><a id="sthref282" name="sthref282"></a><a id="CHDFAIBA" name="CHDFAIBA"></a>
<p class="titleintable">Table 6-1 Database Monitoring Tools</p>
<table class="HRuleFormal" title="Database Monitoring Tools" summary="Rows are tools. For each tool, the first column is its name, and the second column summarizes its function." dir="ltr" border="1" width="100%" frame="hsides" rules="rows" cellpadding="3" cellspacing="0">
<col width="31%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t2">Tool</th>
<th align="left" valign="bottom" id="r1c2-t2">Functionality</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t2" headers="r1c1-t2">
<p>Oracle Counters for Windows Performance Monitor</p>
</td>
<td align="left" headers="r2c1-t2 r1c2-t2">
<p>Monitor database objects, such as CPU usage, buffer cache, or a background <a href="glossary.htm#i432454"><span class="xrefglossterm">process</span></a>.</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t2" headers="r1c1-t2">
<p>Event Viewer</p>
</td>
<td align="left" headers="r3c1-t2 r1c2-t2">
<p>Monitor database events.</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t2" headers="r1c1-t2">
<p>Trace Files</p>
</td>
<td align="left" headers="r4c1-t2 r1c2-t2">
<p>Record occurrences and exceptions of database operations</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t2" headers="r1c1-t2">
<p>Alert Logs</p>
</td>
<td align="left" headers="r5c1-t2 r1c2-t2">
<p>Record important information about error messages and exceptions during database operations.</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t2" headers="r1c1-t2">
<p>Oracle Enterprise Manager Database Management Packs</p>
</td>
<td align="left" headers="r6c1-t2 r1c2-t2">
<p>Monitor and tune using tools with real-time graphical performance information.</p>
<p><span class="bold">See Also</span>: Your Oracle Enterprise Manager documentation set for more information</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t2" headers="r1c1-t2">
<p>Oracle Administration Assistant for Windows</p>
</td>
<td align="left" headers="r7c1-t2 r1c2-t2">
<p>View information on or terminate any Oracle <a href="glossary.htm#i432558"><span class="xrefglossterm">thread</span></a>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink PFGRF" href="http://www.oracle.com/pls/db112/lookup?id=PFGRF"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for general tuning information</div>
</div>
<!-- class="sect1" -->
<a id="i1005706" name="i1005706"></a><a id="NTQRF234" name="NTQRF234"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref283" name="sthref283"></a><a id="sthref284" name="sthref284"></a>Using Oracle Counters for Windows Performance Monitor</h2>
<p>Oracle Counters for Windows Performance Monitor is a graphical tool for measuring the performance of Oracle Database for Windows objects on a local server or other servers on a network. This tool is the same in appearance and operation as Windows Performance Monitor, except it has been loaded with Oracle Database performance elements.</p>
<p>On each computer, you can view behavior of objects, such as buffer cache, <a href="glossary.htm#i432229"><span class="xrefglossterm">data dictionary</span></a> cache, datafiles, threads, and processes. An object is a graphical representation of an element in your system. Every element, resource, and device in your system can be represented as an object.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
Before using Oracle Counters for Windows Performance Monitor to view Oracle-specific counters, you must specify the <code>SYSTEM</code> password using <code>operfcfg</code><code>.exe</code> or Oracle Administration Assistant for Windows. See <a href="registry.htm#i1006308">"Using operfcfg"</a> or <a href="registry.htm#CBABDDDB">"Using Oracle Administration Assistant for Windows"</a> for instructions.</div>
<p>A set of counters is associated with each object. A counter is a unit of measurement used by Performance Monitor to display activity. The type of activity the counter measures depends on the type of object.</p>
<p>Certain types of objects and their respective counters are present on all systems. Other counters, such as application-specific counters, appear only if the computer is running the associated software.</p>
<p>Each of these objects has an associated set of counters that provide information about device usage, queue lengths, delays, and information used to measure throughput and internal congestion.</p>
<a id="NTQRF235" name="NTQRF235"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref285" name="sthref285"></a>
<h3 class="sect2"><a id="sthref286" name="sthref286"></a><a id="sthref287" name="sthref287"></a><a id="sthref288" name="sthref288"></a><a id="sthref289" name="sthref289"></a><a id="sthref290" name="sthref290"></a><a id="sthref291" name="sthref291"></a><a id="sthref292" name="sthref292"></a>Registry <a id="sthref293" name="sthref293"></a><a id="sthref294" name="sthref294"></a><a id="sthref295" name="sthref295"></a><a id="sthref296" name="sthref296"></a>Information<a id="sthref297" name="sthref297"></a><a id="sthref298" name="sthref298"></a></h3>
<p>When you install Oracle Counters for Windows Performance Monitor, values are automatically set in the <a href="glossary.htm#i432474"><span class="xrefglossterm">registry</span></a> as described in <a href="registry.htm#g1015622">Chapter 15, "Configuration Parameters and the Registry"</a>.</p>
<p>Oracle Counters for Windows Performance Monitor lets you monitor only one database <a href="glossary.htm#CHDFBCHH"><span class="xrefglossterm">instance</span></a> at a time. For this reason, the registry contains the following values:</p>
<ul>
<li>
<p><code>Hostname</code></p>
</li>
<li>
<p><code>Username</code></p>
</li>
<li>
<p><code>Password</code></p>
</li>
</ul>
<p>Use <code>operfcfg</code> to change these values. Oracle recommends setting the security level on each of these registry values.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="registry.htm#g1015622">Chapter 15, "Configuration Parameters and the Registry"</a> for instructions on how to use <code>operfcfg</code></div>
<p>To use Oracle Counters for Windows Performance Monitor for another database instance on the same computer or a UNIX computer, change the values appropriately in the registry. You can also monitor non-Windows installations of Oracle Database by changing <code>Hostname</code> registry value so it points to another computer specified in file <code>tnsnames.ora</code>.</p>
</div>
<!-- class="sect2" -->
<a id="NTQRF236" name="NTQRF236"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref299" name="sthref299"></a>
<h3 class="sect2"><a id="sthref300" name="sthref300"></a><a id="sthref301" name="sthref301"></a>Accessing Oracle Counters for Windows Performance Monitor</h3>
<p>To access Oracle Counters for Windows Performance Monitor:</p>
<p>From the <span class="bold">Start</span> menu, select <span class="bold">Programs</span>, then select <span class="bold">Oracle -</span> <span class="bolditalic">HOME_NAME</span><span class="italic">,</span> then select <span class="bold">Configuration and Migration Tools</span> and then select <span class="bold">Oracle Counters for Windows Performance Monitor</span>.</p>
<p>Oracle Counters for Windows Performance Monitor has four views you can choose from the View menu:</p>
<ul>
<li>
<p>Chart view displays database activity as it occurs.</p>
</li>
<li>
<p>Alert view lets you know when certain minimum performance criteria are not being met, or maximum criteria are being exceeded.</p>
</li>
<li>
<p>Log view maintains continuous records on performance.</p>
</li>
<li>
<p>Report view saves information about specific criteria.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Your operating system documentation for complete information about the four views</div>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="NTQRF237" name="NTQRF237"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref302" name="sthref302"></a>
<h3 class="sect2">Modifying Views</h3>
<p>For each view you can decide objects to monitor, what counters to use for each object, and graphical attributes of the view. When an object is chosen, it is assigned a counter, a color, and added to the status bar at the bottom of Oracle Counters for Windows Performance Monitor.</p>
<p>To add objects to a view:</p>
<ol>
<li>
<p>Choose <span class="bold">Add To</span> (Chart, Alert, Log, Report) from the <span class="bold">Edit</span> menu. (This example uses Add to Chart, but other dialogs are similar.)</p>
<p>The Add to Chart dialog appears.</p>
</li>
<li>
<p>In the <span class="bold">Computer</span> list, select the computer to monitor.</p>
</li>
<li>
<p>In the <span class="bold">Object</span> list, select the object or objects to monitor, then click <span class="bold">Add</span>.</p>
<p>If no data or Oracle Database objects appear, then either Oracle Database is not running or an invalid host string or password has been entered. If the database is not started, then exit Oracle Counters for Windows Performance Monitor, start the database, and restart Oracle Counters for Windows Performance Monitor.</p>
</li>
<li>
<p>In the <span class="bold">Counter</span> list, select one or more counters for each object you have selected. Note that the contents of the Counter list change depending upon your selection in the Object list. For details on how a counter works, highlight the counter and click <span class="bold">Explain</span>.</p>
</li>
<li>
<p>In the <span class="bold">Instance</span> list, select an instance for this counter.</p>
</li>
<li>
<p>In the <span class="bold">Color</span> list, choose a color for the display of the selected counter.</p>
</li>
<li>
<p>In the <span class="bold">Scale</span> list, choose the scale at which to display the counter.</p>
</li>
<li>
<p>In the <span class="bold">Width</span> list, specify the width of the line on the graph.</p>
</li>
<li>
<p>In the <span class="bold">Style</span> list, choose a style for your graph line.</p>
</li>
<li>
<p>Click <span class="bold">Done</span> when you are finished.</p>
<p>The selections you have chosen to monitor are displayed.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="i1005867" name="i1005867"></a><a id="NTQRF238" name="NTQRF238"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Understanding Oracle Database Performance Objects</h3>
<p>All Oracle Database system resources that can be monitored through Oracle Counters for Windows Performance Monitor begin with 'Oracle Database'. This section lists Oracle Database objects and describes their associated counters. These measures are defined in:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>\dbs\PERF<span class="italic">ver</span>.ora
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink PFGRF014" href="http://www.oracle.com/pls/db112/lookup?id=PFGRF014"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for additional information on these objects</div>
<div class="infoboxnote">
<p class="notep1">Note:</p>
You can monitor only one instance at a time using Oracle Counters for Windows Performance Monitor on a given computer.</div>
<a id="NTQRF239" name="NTQRF239"></a>
<p class="subhead2">Oracle Database Buffer Cache</p>
<p>The counter is phyrds/gets %. The percentage of phyrds/gets is calculated as a Miss ratio. The lower the Miss counter, the better. To improve performance, increase the number of buffers in the buffer cache, if memory is available on the computer. This value is not time-derived.</p>
<a id="NTQRF240" name="NTQRF240"></a>
<p class="subhead2">Oracle Database Redo Log Buffer</p>
<p>The counter is redo log space requests. The value of this counter must be near zero. If this value increments consistently, then processes have had to wait for space in the <a href="glossary.htm#i433327"><span class="xrefglossterm">redo log buffer</span></a>. In this case, it may be necessary to increase the size of the redo log buffer.</p>
<a id="NTQRF241" name="NTQRF241"></a>
<p class="subhead2">Oracle Database Data Dictionary Cache</p>
<p>The counter is getmisses/gets %. The value of this counter must be less than 10 or 15% for frequently accessed data dictionary caches. If the ratio continues to increase over this threshold while your application is running, then increase the amount of memory available to the data dictionary cache.</p>
<p>To increase the memory available to the cache, increase the value of initialization parameter <code>SHARED_POOL_SIZE</code>. This value is not time-derived.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink PFGRF014" href="http://www.oracle.com/pls/db112/lookup?id=PFGRF014"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for more detailed information on tuning memory allocation in Oracle Database</div>
<a id="NTQRF242" name="NTQRF242"></a>
<p class="subhead2">Oracle Database Library Cache</p>
<p>The counter is reloads/pins %. This is the percentage of SQL statements, <a href="glossary.htm#i432445"><span class="xrefglossterm">PL/SQL</span></a> blocks, and object definitions that required reparsing. Total Reloads must be near zero. If the ratio of Reloads to Pins is greater than 1%, then reduce the library cache misses. This value is not time-derived.</p>
<a id="NTQRF243" name="NTQRF243"></a>
<p class="subhead2">Oracle Database Datafiles</p>
<p>The counters are phyrds/sec and phywrts/sec. These values are time-derived. Disk contention occurs when multiple processes try to access the same disk simultaneously. Depending on results from monitoring disk activity, corrective actions could include:</p>
<ul>
<li>
<p>Distributing I/O</p>
</li>
<li>
<p>Separating datafiles and <a href="glossary.htm#i432471"><span class="xrefglossterm">redo log files</span></a></p>
</li>
<li>
<p>Separating tables and indexes</p>
</li>
<li>
<p>Striping table data</p>
</li>
</ul>
<a id="NTQRF244" name="NTQRF244"></a>
<p class="subhead2">Oracle Database DBWR stats1</p>
<p>The two counters available, buffers scanned/sec and LRU scans/sec, are helpful in tuning Buffer Cache. Buffers scanned/sec is the number of buffers DBWR scanned in each second. The buffers scanned are on the LRU (Least Recently Used) list. LRU scans/sec is the number of times DBWR scanned the (Least Recently Used) buffer list in each second.</p>
<a id="NTQRF245" name="NTQRF245"></a>
<p class="subhead2">Oracle Database DBWR stats2</p>
<p>The two counters available, timeouts/sec and checkpoints/sec, are helpful in determining how much work DBWR has been requested to perform. Timeouts/sec is the number of times DBWR timed-out in each second. DBWR is on a three second timeout interval. If DBWR has not been posted within a three second interval, then it times out.</p>
<p>Checkpoints/sec is the number of checkpoint messages processed by database writer in each second. Whenever a checkpoint occurs, DBWR must be messaged (posted) to "write dirty buffers to disk".</p>
<a id="NTQRF246" name="NTQRF246"></a>
<p class="subhead2">Oracle Database Dynamic Space Management</p>
<p>The counter is recursive calls/sec. Dynamic extension causes Oracle Database to execute SQL statements in addition to those SQL statements issued by user processes. These SQL statements are called recursive calls.</p>
<p>If Oracle Database makes excessive recursive calls while an application is running, then it may be necessary to determine the cause. Examine the recursive calls statistic through dynamic performance table <code>V$SYSSTAT</code>.</p>
<a id="NTQRF247" name="NTQRF247"></a>
<p class="subhead2">Oracle Database Free List</p>
<p>The counter is free list waits/requests %. Contention for free lists is reflected by contention for free data blocks in buffer cache. You can determine if contention for free lists is reducing performance by querying <code>V$WAITSTAT</code>.</p>
<p>If the number of free list waits for free blocks is greater than 1% of the total number of requests, then consider adding more free lists to reduce contention.</p>
<a id="NTQRF248" name="NTQRF248"></a>
<p class="subhead2">Oracle Database Sorts</p>
<p>The available counters are sorts in memory/sec and sorts on disk/sec. The default sort area size is adequate to hold all data for most sorts. However, if your application often performs large sorts on data that does not fit into the sort area, then you may increase sort area size.</p>
</div>
<!-- class="sect2" -->
<a id="NTQRF249" name="NTQRF249"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref303" name="sthref303"></a>
<h3 class="sect2"><a id="sthref304" name="sthref304"></a>Oracle Counters for Windows Performance Monitor Troubleshooting Information</h3>
<p>If no data or Oracle Database objects appear in the Objects list of the Add to (Chart, Alert, Log, Report) dialog, then:</p>
<ol>
<li>
<p>Ensure that Oracle Database is running. If it is not running, then exit Oracle Counters for Windows Performance Monitor, and start the database.</p>
</li>
<li>
<p>If the database is running but no data or Oracle Database objects appear, then check the error file for Oracle Counters for Windows Performance Monitor:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>\dbs\OPERF<span class="italic">ver</span>.log
</pre>
<p>If the log file indicates an invalid host string or password, then check the registry for correct values for <code>Hostname</code>, <code>Password</code>, and <code>Username</code>. See <a href="registry.htm#i1005920">"HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services"</a> for further information about these values.</p>
</li>
<li>
<p>Restart Oracle Counters for Windows Performance Monitor.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1006063" name="i1006063"></a><a id="NTQRF251" name="NTQRF251"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref305" name="sthref305"></a><a id="sthref306" name="sthref306"></a><a id="sthref307" name="sthref307"></a><a id="sthref308" name="sthref308"></a><a id="sthref309" name="sthref309"></a>Using Event Viewer</h2>
<p>Oracle Database for Windows problems and other significant occurrences are recorded as events in an application event log. View and manage these recorded events in Event Viewer.</p>
<p>To access Event Viewer:</p>
<ol>
<li>
<p>From the <span class="bold">Start</span> menu, select <span class="bold">Programs</span>, then select <span class="bold">Administrative Tools</span> and then select <span class="bold">Event Viewer</span>.</p>
<p>The Event Viewer window appears.</p>
</li>
<li>
<p>Choose <span class="bold">Application</span> from the <span class="bold">Log</span> menu.</p>
</li>
</ol>
<p><a href="#i1006649">Figure 6-1</a> displays the Application view window, <a href="#g1010121">Table 6-2</a> shows what is recorded in each column, and <a href="#g1010158">Table 6-3</a> interprets icons that appear at the left edge of the viewer.</p>
<div class="figure"><a id="i1006649" name="i1006649"></a><a id="NTQRF252" name="NTQRF252"></a>
<p class="titleinfigure">Figure 6-1 Application View Window</p>
<img width="574" height="311" src="img/ev_vwr.gif" alt="Description of Figure 6-1 follows" title="Description of Figure 6-1 follows" longdesc="img_text/ev_vwr.htm" /><br />
<a id="sthref310" name="sthref310" href="img_text/ev_vwr.htm">Description of "Figure 6-1 Application View Window"</a><br />
<br /></div>
<!-- class="figure" -->
<div class="tblhruleformal"><a id="NTQRF253" name="NTQRF253"></a><a id="sthref311" name="sthref311"></a><a id="g1010121" name="g1010121"></a>
<p class="titleintable">Table 6-2 Application View Definitions</p>
<table class="HRuleFormal" title="Application View Definitions" summary="Names and definitions of columns in the preceding Event Viewer graphic (Figure 8-2)." dir="ltr" border="1" width="100%" frame="hsides" rules="rows" cellpadding="3" cellspacing="0">
<col width="31%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t10">Column Name</th>
<th align="left" valign="bottom" id="r1c2-t10">Definition</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t10" headers="r1c1-t10">
<p>Date</p>
</td>
<td align="left" headers="r2c1-t10 r1c2-t10">
<p>Date event took place</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t10" headers="r1c1-t10">
<p>Time</p>
</td>
<td align="left" headers="r3c1-t10 r1c2-t10">
<p>Time event took place</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t10" headers="r1c1-t10">
<p>Source</p>
</td>
<td align="left" headers="r4c1-t10 r1c2-t10">
<p>Application that recorded event</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t10" headers="r1c1-t10">
<p>Category</p>
</td>
<td align="left" headers="r5c1-t10 r1c2-t10">
<p>Classification of event</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t10" headers="r1c1-t10">
<p>Event</p>
</td>
<td align="left" headers="r6c1-t10 r1c2-t10">
<p>Unique number assigned to event</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t10" headers="r1c1-t10">
<p>Computer</p>
</td>
<td align="left" headers="r7c1-t10 r1c2-t10">
<p>Computer name on which event occurred</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<div class="tblhruleformal"><a id="NTQRF254" name="NTQRF254"></a><a id="sthref312" name="sthref312"></a><a id="g1010158" name="g1010158"></a>
<p class="titleintable">Table 6-3 Event Viewer Icons</p>
<table class="HRuleFormal" title="Event Viewer Icons" summary="Information about icons in preceding graphic (Figure 8-2). For each icon, the first column describes it, the second column is its event type, and the third column is a suggested action." dir="ltr" border="1" width="100%" frame="hsides" rules="rows" cellpadding="3" cellspacing="0">
<col width="24%" />
<col width="19%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t11">Icon</th>
<th align="left" valign="bottom" id="r1c2-t11">Event Type</th>
<th align="left" valign="bottom" id="r1c3-t11">Suggested Action</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t11" headers="r1c1-t11">
<p>Red Stop Sign</p>
</td>
<td align="left" headers="r2c1-t11 r1c2-t11">
<p>Error</p>
</td>
<td align="left" headers="r2c1-t11 r1c3-t11">
<p>Always check these icons.</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t11" headers="r1c1-t11">
<p>Lower-case "i" in Blue Circle</p>
</td>
<td align="left" headers="r3c1-t11 r1c2-t11">
<p>Information</p>
</td>
<td align="left" headers="r3c1-t11 r1c3-t11">
<p>Noncritical system events. Check these icons only to track a specific event.</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t11" headers="r1c1-t11">
<p>Exclamation Point in Yellow Circle</p>
</td>
<td align="left" headers="r4c1-t11 r1c2-t11">
<p>Warning</p>
</td>
<td align="left" headers="r4c1-t11 r1c3-t11">
<p>Special events, such as instance termination or services shutdown. Investigate these icons, but they are usually noncritical.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<a id="NTQRF255" name="NTQRF255"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref313" name="sthref313"></a>
<h3 class="sect2"><a id="sthref314" name="sthref314"></a><a id="sthref315" name="sthref315"></a>Reading Event Viewer</h3>
<p>Oracle Database for Windows events display with a source of Oracle.<code><span class="codeinlineitalic">SID</span></code>.</p>
<p>Event number 34 specifies an audit trail event. These events are recorded if parameter <code>AUDIT_TRAIL</code> is set to <code>db</code> (<code>true</code>) or <code>os</code> in the initialization parameter file. Option <code>os</code> enables system wide auditing and causes audited records to be written to Event Viewer. Option <code>db</code> enables system wide auditing and causes audited records to be written to the database audit trail (table <code>SYS.AUD$</code>). Some records, however, are written to Event Viewer.</p>
<p>Event numbers other than 34 specify general database activities, such as an instance being started or stopped.</p>
<p>When you double-click an icon in Event Viewer, the Event Detail dialog appears with more information about the selected event. <a href="#i1006778">Figure 6-2</a>, for example, shows details about EventID 1011. In the Description field you will find a text description of the event. In the Data field you can choose Bytes to see the information in hexadecimal format or Words to see DWORDS for the same data.</p>
<div class="figure"><a id="i1006778" name="i1006778"></a><a id="NTQRF256" name="NTQRF256"></a>
<p class="titleinfigure">Figure 6-2 Event Detail Dialog</p>
<img width="391" height="338" src="img/ev_dtl.gif" alt="Description of Figure 6-2 follows" title="Description of Figure 6-2 follows" longdesc="img_text/ev_dtl.htm" /><br />
<a id="sthref316" name="sthref316" href="img_text/ev_dtl.htm">Description of "Figure 6-2 Event Detail Dialog"</a><br />
<br /></div>
<!-- class="figure" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Microsoft operating system documentation for more information on using Event Viewer</div>
</div>
<!-- class="sect2" -->
<a id="NTQRF257" name="NTQRF257"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref317" name="sthref317"></a>
<h3 class="sect2"><a id="sthref318" name="sthref318"></a><a id="sthref319" name="sthref319"></a>Managing Event Viewer</h3>
<p>Setting <code>AUDIT_TRAIL</code> to <code>db</code> or <code>os</code> causes more records to be written to Event Viewer. This can fill up the Event Viewer log file. Follow these procedures to increase log file size:</p>
<ol>
<li>
<p>Choose <span class="bold">Log Settings</span> from the <span class="bold">Log</span> menu.</p>
<p>The Event Log Settings dialog appears.</p>
</li>
<li>
<p>Adjust the setting in the <span class="bold">Maximum Log Size</span> field to an appropriate level.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
<p>You are returned to Event Viewer.</p>
<div class="infoboxnote">
<p class="notep1">Caution:</p>
<a id="sthref320" name="sthref320"></a><a id="sthref321" name="sthref321"></a>Audit information cannot be spooled to a file. Parameter <code>AUDIT_FILE_DEST</code> is not supported in Windows and should not be added to the initialization parameter file.</div>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1008147" name="i1008147"></a><a id="NTQRF258" name="NTQRF258"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref322" name="sthref322"></a><a id="sthref323" name="sthref323"></a><a id="sthref324" name="sthref324"></a><a id="sthref325" name="sthref325"></a><a id="sthref326" name="sthref326"></a><a id="sthref327" name="sthref327"></a><a id="sthref328" name="sthref328"></a>Trace Files</h2>
<p>Oracle Database for Windows background threads use trace files to record occurrences and exceptions of database operations, and errors. Background thread trace files are created and stored in the ADR directory specified by parameter <code>DIAGNOSTIC_DEST</code> in the initialization parameter file.</p>
<p>Oracle Database creates a different <a href="glossary.htm#i433345"><span class="xrefglossterm">trace file</span></a> for each foreground and background thread. The name of the trace file contains the name of the thread, followed by the extension ".<code>trc"</code>. The following are examples of foreground trace file names:</p>
<ul>
<li>
<p><code>ops_ora_5804.trc</code></p>
</li>
<li>
<p><code>ops_ora_4160.trc</code></p>
</li>
</ul>
<p>The following are examples of background trace file names:</p>
<ul>
<li>
<p><code>ops_pmon_1556.trc</code></p>
</li>
<li>
<p><code>ops_mmon_3768.trc</code></p>
</li>
<li>
<p><code>ops_lgwr_2356.trc</code></p>
</li>
<li>
<p><code>ops_dbw0_132.trc</code></p>
</li>
</ul>
<p>Trace files are also created for user threads and stored in the ADR directory specified by parameter <code>DIAGNOSTIC_DEST</code> in the initialization parameter file. Trace files for user threads have the form <code>ora</code><code><span class="codeinlineitalic">xxxxx</span></code><code>.trc</code>, where <code><span class="codeinlineitalic">xxxxx</span></code> is a 5-digit number indicating the Windows thread <code>ID</code>.</p>
</div>
<!-- class="sect1" -->
<a id="i1008149" name="i1008149"></a><a id="NTQRF259" name="NTQRF259"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Alert Logs</h2>
<p>Alert logs contain important information about error messages and exceptions that occur during database operations. Each Oracle Database for Windows instance has one alert log; information is appended to the file each time you start the instance. All threads can write to the alert log.</p>
<p>For example, when automatic archiving of redo logs is halted because no disk space is available, a message is placed in the alert log. The alert log is the first place to check if something goes wrong with the database and the cause is not immediately obvious.</p>
<a id="i1006251" name="i1006251"></a>
<p>The alert log is named <code>alert_</code><code><span class="codeinlineitalic">SID</span></code><code>.log</code> and is found in the ADR directory specified by parameter <code>DIAGNOSTIC_DEST</code> in the initialization parameter file. Alert logs should be deleted or archived periodically.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="create.htm#i1015399">"Modifying the Initialization Parameter File"</a></p>
</li>
<li>
<p>"ADMIN Directory" section in <span class="italic"><a class="olink NTDBI" href="../../install.112/e10843/toc.htm">Oracle Database Installation Guide for Microsoft Windows</a></span></p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CHDIFIDG" name="CHDIFIDG"></a><a id="NTQRF260" name="NTQRF260"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Viewing Threads</h2>
<p>To view information on Oracle Database threads using Oracle Administration Assistant for Windows, you must either enable Windows native authentication for the database or run utility <code>ocfgutil.exe</code> with arguments <code><span class="codeinlineitalic">username</span></code> and <code><span class="codeinlineitalic">password</span></code>. The utility stores the username and password in the following registry location:</p>
<pre xml:space="preserve" class="oac_no_warn">HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\OracleOraConfig
</pre>
<p>When Windows native authentication is not enabled, Oracle Remote Configuration Agent retrieves the username and password from this registry key to log in to the database.</p>
<p>To view information on Oracle Database threads using Oracle Administration Assistant for Windows:</p>
<ol>
<li>
<p>From the <span class="bold">Start</span> menu, select <span class="bold">Programs</span>, then select <span class="bold">Oracle -</span> <span class="bolditalic">HOME_NAME</span>, then select <span class="bold">Configuration and Migration Tools</span> and then select <span class="bold">Administration Assistant for Windows</span>.</p>
</li>
<li>
<p>Right-click the <code><span class="codeinlineboldital">SID</span></code>, where <code><span class="codeinlineitalic">SID</span></code> is a specific instance name, such as <code>orcl</code>.</p>
</li>
<li>
<p>Choose <span class="bold">Process Information</span>.</p>
<p>The Process Information dialog appears, listing name, type, user, thread ID, and CPU usage for each Oracle Database thread.</p>
</li>
<li>
<p>To terminate a thread, select it and click <span class="bold">Kill Thread</span>.</p>
</li>
</ol>
<img width="412" height="241" src="img/procinfo.gif" alt="Description of procinfo.gif follows" title="Description of procinfo.gif follows" longdesc="img_text/procinfo.htm" /><br />
<a id="sthref329" name="sthref329" href="img_text/procinfo.htm">Description of the illustration procinfo.gif</a><br />
<br /></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<col width="33%" />
<col width="*" />
<col width="33%" />
<tr>
<td align="left">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="admin.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="tuning.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td style="font-size: 90%" align="center" class="copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2010,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
